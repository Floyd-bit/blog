(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{688:function(t,a,s){"use strict";s.r(a);var e=s(11),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"跨端技术调研和实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨端技术调研和实践"}},[t._v("#")]),t._v(" 跨端技术调研和实践")]),t._v(" "),s("h3",{attrs:{id:"_1-常见跨端框架介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-常见跨端框架介绍"}},[t._v("#")]),t._v(" 1. 常见跨端框架介绍")]),t._v(" "),s("p",[t._v("​\t现在主流的APP开发模式包括"),s("strong",[t._v("Native App")]),t._v("(原生应用)、"),s("strong",[t._v("Web App")]),t._v("、"),s("strong",[t._v("Hybrid App")]),t._v("。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Native App")]),t._v(" "),s("p",[t._v("​\t原生应用就是采用"),s("strong",[t._v("原生语言")]),t._v("开发的APP（安卓端Java、ios端swift或oc）,优点在于"),s("strong",[t._v("性能好")]),t._v("，可以直接调用"),s("strong",[t._v("系统能力")]),t._v("，功能强大。但是"),s("strong",[t._v("不支持动态更新")]),t._v("，只能通过重新发版并上传应用商店的方式更新APP。并且同时需要Android开发和ios开发，维护两套代码。")])]),t._v(" "),s("li",[s("p",[t._v("Web App")]),t._v(" "),s("p",[t._v("​\tWeb App其实就是浏览器中运行的web应用，优点是"),s("strong",[t._v("跨平台")]),t._v("，缺点是"),s("strong",[t._v("无法调用系统能力")]),t._v("。")])]),t._v(" "),s("li",[s("p",[t._v("Hybrid App")]),t._v(" "),s("p",[t._v("​\tHybrid App是介于Native和Web之间的一种开发模式，利用Native的"),s("strong",[t._v("WebView容器")]),t._v("运行H5页面，相当于在APP中嵌入了一个浏览器。它兼具Native App和Web App的优点，即跨平台、动态更新，并且可以通过"),s("strong",[t._v("Js Bridge")]),t._v("调用系统能力。")]),t._v(" "),s("p",[t._v("其中Hybrid App有多种实现方式，主流的框架包括"),s("strong",[t._v("React Native")]),t._v("、"),s("strong",[t._v("Flutter")]),t._v("、"),s("strong",[t._v("Uniapp")]),t._v("等。")])]),t._v(" "),s("li",[s("p",[t._v("React Native")]),t._v(" "),s("p",[t._v("​\t由于React中的"),s("strong",[t._v("Virtual DOM是平台无关")]),t._v("的，理论上可以将VDOM映射到不同的平台，在浏览器上转换为DOM，在App端就可以是原生组件。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture-1305610595.cos.ap-guangzhou.myqcloud.com/202403071157940.png",alt:"image.png-116.7kB"}})]),t._v(" "),s("p",[t._v("​\tReact Native中代码同样运行在WebView中，"),s("strong",[t._v("JsCore作为JS引擎")]),t._v("，"),s("strong",[t._v("通过JSBridge通知Native绘制原生组件")]),t._v("，性能会比Hybrid要好，但是JS和Native之间的通信也会带来性能消耗，所以性能上达不到Native。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture-1305610595.cos.ap-guangzhou.myqcloud.com/202403071157832.png",alt:"image.png-35.7kB"}})])]),t._v(" "),s("li",[s("p",[t._v("Flutter")]),t._v(" "),s("p",[t._v("​\t传统的跨端有两种，一种是 Hybrid 那种实现 JS 跑在 WebView 上面的，这种性能瓶颈取决于浏览器渲染。")]),t._v(" "),s("p",[t._v("​\t另一种是将 JS 组件映射为 Native 组件的，例如 React Native、Weex，缺点就是依然需要 JS Bridge 来进行通信（老架构）。")]),t._v(" "),s("p",[t._v("​\tFlutter 则是在吸取了 RN 的教训之后，不再去做 Native 的映射，而是自己用 "),s("strong",[t._v("Skia 渲染引擎")]),t._v("来绘制页面，而 Skia 就是 Chrome 底层的二维图形库，它是 C/C++ 实现的，调用 CPU 或者 GPU 来完成绘制，所以说 Flutter 像个游戏引擎。")]),t._v(" "),s("p",[t._v("相比较于React Native, Flutter有以下优缺点：")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Flutter 放弃了 Web 生态，RN 拥有 Web 成熟的生态体系，工具链更加强大。")]),t._v(" "),s("li",[t._v("Flutter 将 Dart 代码 AOT 编译为本地代码，通信接近原生。RN 不仅需要多次序列化，不同线程之间还需要通过 Bridge 来通信，效率低下。")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-uniapp跨端应用开发实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-uniapp跨端应用开发实践"}},[t._v("#")]),t._v(" 2. Uniapp跨端应用开发实践")]),t._v(" "),s("p",[t._v("​\tuniapp是基于Vue语法的支持web、App、小程序的跨端框架，在APP端默认使用"),s("strong",[t._v("WebView")]),t._v("渲染（也提供了"),s("strong",[t._v("腾讯x5引擎")]),t._v("，避免不同手机webview版本兼容问题），也提供了"),s("code",[t._v("nvue")]),t._v("文件实现原生渲染（底层基于"),s("code",[t._v("weex")]),t._v("改造），此外它还提供了"),s("code",[t._v("uts")]),t._v("语法可以直接编译为kotlin和swift。")]),t._v(" "),s("p",[t._v("​\t在APP平台，Uniapp内置了一些方法来调用原生能力（如uni.getStorage()、uni.getLocation()、uni.getDeviceInfo()），此外还提供了"),s("code",[t._v("HTML5Plus")]),t._v("和"),s("code",[t._v("Native.js")]),t._v("d的API来扩展能力，也可以直接通过"),s("code",[t._v("UTS")]),t._v("插件或原生插件的方式调用使用原生方式封装好的API。")]),t._v(" "),s("ul",[s("li",[t._v("uniapp内置HTML5+引擎，使用时直接通过"),s("code",[t._v("window.plus")]),t._v("使用")]),t._v(" "),s("li",[t._v("Native.js将原生语言映射为JS，从而可以在JS里编写原生代码")]),t._v(" "),s("li",[t._v("uts即在TypeScript语言的基础上直接编译为Kotlin/Swift")])]),t._v(" "),s("p",[t._v("​\tuniapp在APP中将逻辑层和渲染层分离，渲染层使用webview或原生渲染，逻辑层是JS引擎（Android中是V8，Ios中是JSCore）。所以在APP端不支持浏览器独有的window、dom等API，如要使用可以借助"),s("code",[t._v("renderjs")]),t._v("实现。renderjs通常的使用场景是要在uniapp中使用一些依赖浏览器环境的js库，如echarts。其原理就是直接在视图层执行renderjs代码，从而可以访问到dom。")]),t._v(" "),s("h3",{attrs:{id:"_3-cefsharp实现桌面端跨端应用的实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-cefsharp实现桌面端跨端应用的实践"}},[t._v("#")]),t._v(" 3. CefSharp实现桌面端跨端应用的实践")]),t._v(" "),s("p",[t._v("​\t实习期间接到一个需求，要在C#桌面程序中做一个拟合曲线的demo，主要目的是验证跨端方案的可行性及性能。因为C#中可视化图表组件库能力有限，所以考虑通过嵌入浏览器控件的方式引入Echarts绘制图表。拟合曲线程序有以下几个功能：")]),t._v(" "),s("ol",[s("li",[t._v("用户输入一个多项式函数，并选择拟合算法（线性拟合、二次曲线拟合），然后根据输入函数自动生成初始数据（即要拟合的点的坐标）并调用拟合函数生成拟合曲线（一条连续的曲线）。")]),t._v(" "),s("li",[t._v("记录每次渲染的数据响应时间和图像渲染时间。")]),t._v(" "),s("li",[t._v("可以保存用户的输入及拟合结果，并可以导入。")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture-1305610595.cos.ap-guangzhou.myqcloud.com/202403011449536.png",alt:"image-20240301144853278"}})]),t._v(" "),s("p",[t._v("​\t对于以上需求，大致实现思路如下：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("在C#程序中实现根据输入多项式函数生成初始点坐标的方法generateSamplePoint，根据固定的x和函数生成y后添加一个随机数模拟数据波动。根据拟合算法和采样点数组生成拟合曲线数据的方法generateCurvePoint()，调用Math库中的拟合方法生成一个多项式拟合函数，然后根据用户设置的填充点数量均匀地生成一系列拟合曲线上的点。在JS中可以通过JSB调用到以上方法，相当于调用API接口")])]),t._v(" "),s("li",[s("p",[t._v("在JS中调用C#的方法是异步的, 可以利用调用前后时间戳差值统计数据响应时间. 而对于渲染时间的计算则取决于Echats的渲染机制")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/apache/echarts/issues/1083",target:"_blank",rel:"noopener noreferrer"}},[t._v("echarts如何获取状态，获知echarts已经渲染完毕 · Issue #1083 · apache/echarts (github.com)"),s("OutboundLink")],1)]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picture-1305610595.cos.ap-guangzhou.myqcloud.com/202403011600051.png",alt:"image-20240301160033439"}})]),t._v(" "),s("p",[t._v("根据官方的说法, 在折线图中setOption是同步渲染的, 所以可以直接在setOption调用结束后计算渲染所用时间.")])]),t._v(" "),s("li",[s("p",[t._v("提供保存方法save, 根据传入的曲线配置和采样点数组生成xml文件并保存在指定目录下.加载时再读取该xml文件.")])])]),t._v(" "),s("p",[t._v("​\t在C#客户端中嵌入浏览器有多种方法，常见的浏览器控件包括.NET WebBrowser控件以及开源控件CefSharp。.NET WebBrowser控件基于IE浏览器内核，在性能以及兼容性上都不及基于谷歌Chromium的开源控件CefSharp, 所以我们选择后者作为浏览器控件。")]),t._v(" "),s("h4",{attrs:{id:"_3-1-在js中调用c-方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-在js中调用c-方法"}},[t._v("#")]),t._v(" 3.1 在JS中调用C#方法")]),t._v(" "),s("p",[t._v("​\t我们可以使用**JavaScript Binding（JSB）**来进行JavaScript和.Net之间的通信，并且它提供了同步和异步两种实现方式。为了优化性能，减少通信对页面渲染的阻塞，我们使用异步的方式进行通信，同步的方法可见文档https://github.com/cefsharp/CefSharp/wiki/General-Usage#sync-javascript-binding-jsb")]),t._v(" "),s("p",[t._v("​\tJSB使用Chromium IPC（进程间通信）来在浏览器进程和渲染进程间传递消息。我们在JavaScript中调用C#方法的过程类似于ajax，所有的异步方法调用是非阻塞的并且会返回一个JavaScript的标准Promise对象。C#方法的返回值可以在Promise的成功回调函数中获取到，并且C#的异常会被捕获，我们可以在Promise的失败回调函数中获取异常信息。需要注意的是，被JavaScript调用的C#方法名称会默认被转换为小驼峰(例如MyFunction 会变成myFunction)，可以通过设置browser.JavascriptObjectRepository.NameConverter属性来避免方法名的默认转换。")]),t._v(" "),s("p",[t._v("​\t将C#的类提供给JavaScript的具体步骤如下：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("新建一个C#类")]),t._v(" "),s("p",[t._v("在C#中新建一个类：")]),t._v(" "),s("div",{staticClass:"language-c# extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("public class BoundObject  \n{  \n    public int Add(int a, int b)  \n    {  \n        return a + b;  \n    }  \n}  \n")])])])]),t._v(" "),s("li",[s("p",[t._v("使用JavaScriptObjectRepository注册类的实例")])])]),t._v(" "),s("p",[t._v("我们可以在初始化浏览器时(通常在实例化ChromiumWebBrowser之后)就使用JavaScriptObjectRepository注册类的实例。")]),t._v(" "),s("div",{staticClass:"language-c# extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 绑定JavaScript对象 \nCefSharpSettings.WcfEnabled = true; \nbrowser.JavascriptObjectRepository.Register("boundAsync", new JsEvent(), true, BindingOptions.DefaultBinder); \n')])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("在JavaScript中调用CefSharp.BindObjectAsync")])]),t._v(" "),s("p",[t._v("最后，在JavaScript代码中调用CefSharp.BindObjectAsync,该方法被调用后会在JavaScriptObjectRepository中寻找是否有已注册的对象。")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text/javascript"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" CefSharp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("BindObjectAsync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"boundAsync"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\tboundAsync"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("actualResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" expectedResult "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n        assert"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("equal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expectedResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" actualResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Add 16 + 2 resulted in "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" expectedResult"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"_3-2-在c-中执行js代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-在c-中执行js代码"}},[t._v("#")]),t._v(" 3.2 在C#中执行JS代码")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("调用ExecuteScriptAsync方法")]),t._v(" "),s("p",[t._v("​\tJavaScript只能在V8Context中编译执行，我们可以通过ChromiumWebBrowser类的ExecuteScriptAsync或ExecuteJavaScriptAsync方法来执行JS代码。")]),t._v(" "),s("div",{staticClass:"language-c# extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("browser.ExecuteScriptAsync(\"document.body.style.background = 'red';\"); \n")])])]),s("p",[t._v("如果要在ExecuteScriptAsunc方法中执行多行js代码，则需要将这些js语句包裹在IIFE(立即执行函数)中执行。")]),t._v(" "),s("div",{staticClass:"language-c# extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("browser.ExecuteScriptAsync(\"(function(){ document.getElementsByName('q')[0].value = 'CefSharp Was Here!'; document.getElementsByName('btnK')[0].click(); })();\"); \n")])])])]),t._v(" "),s("li",[s("p",[t._v("通过JS自定义事件进行通信")]),t._v(" "),s("p",[t._v("​\t某些业务场景需要从客户端向前端发送信息，我们就可以通过ExecuteScriptAsync方法触发JS中的事件，并且在前端进行监听，这样就可以完成客户端到前端的数据通信。")]),t._v(" "),s("p",[t._v("​\tJS中的自定义事件通过CustomEvent构造函数来创建，CustomEvent接收两个参数, 第一个参数表示创建事件的名称，第二个参数为可选配置项，可以通过第二个参数的detail属性传递数据。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建事件  ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" myEvent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CustomEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("detail")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test info"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \t  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 触发事件  ")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatchEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \t  \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加适当的事件监听器  ")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n")])])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);