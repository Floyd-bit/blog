<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>æµ…æOpenTinyæºç  | Floydçš„åšå®¢</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="ä¸ªäººæŠ€æœ¯åˆ†äº«æ–‡ç« ã€å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬å‰ç«¯ã€åç«¯ã€å¤§æ•°æ®ç­‰æŠ€æœ¯é¢†åŸŸ">
    
    <link rel="preload" href="/blog/assets/css/0.styles.193774b6.css" as="style"><link rel="preload" href="/blog/assets/js/app.9a166432.js" as="script"><link rel="preload" href="/blog/assets/js/3.38bf7d9d.js" as="script"><link rel="preload" href="/blog/assets/js/1.be70e6c5.js" as="script"><link rel="preload" href="/blog/assets/js/79.6448de96.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.5af830c0.js"><link rel="prefetch" href="/blog/assets/js/11.59c4aefa.js"><link rel="prefetch" href="/blog/assets/js/12.e48fb818.js"><link rel="prefetch" href="/blog/assets/js/13.8c6df0ed.js"><link rel="prefetch" href="/blog/assets/js/14.6c743845.js"><link rel="prefetch" href="/blog/assets/js/15.f8cd8644.js"><link rel="prefetch" href="/blog/assets/js/16.04f40031.js"><link rel="prefetch" href="/blog/assets/js/17.5b63f051.js"><link rel="prefetch" href="/blog/assets/js/18.1a52c666.js"><link rel="prefetch" href="/blog/assets/js/19.8e13bf3b.js"><link rel="prefetch" href="/blog/assets/js/20.bde3bac9.js"><link rel="prefetch" href="/blog/assets/js/21.b2c7096b.js"><link rel="prefetch" href="/blog/assets/js/22.c24e4929.js"><link rel="prefetch" href="/blog/assets/js/23.9fa34407.js"><link rel="prefetch" href="/blog/assets/js/24.64ad5772.js"><link rel="prefetch" href="/blog/assets/js/25.25915363.js"><link rel="prefetch" href="/blog/assets/js/26.a82df58c.js"><link rel="prefetch" href="/blog/assets/js/27.c263e3bf.js"><link rel="prefetch" href="/blog/assets/js/28.7df4f611.js"><link rel="prefetch" href="/blog/assets/js/29.812e782c.js"><link rel="prefetch" href="/blog/assets/js/30.2aa1eb7a.js"><link rel="prefetch" href="/blog/assets/js/31.701a5e0d.js"><link rel="prefetch" href="/blog/assets/js/32.c8a92196.js"><link rel="prefetch" href="/blog/assets/js/33.6b38df6b.js"><link rel="prefetch" href="/blog/assets/js/34.46a529ca.js"><link rel="prefetch" href="/blog/assets/js/35.cf57dc19.js"><link rel="prefetch" href="/blog/assets/js/36.6c48a1dd.js"><link rel="prefetch" href="/blog/assets/js/37.dc419303.js"><link rel="prefetch" href="/blog/assets/js/38.25a22b8c.js"><link rel="prefetch" href="/blog/assets/js/39.47418b36.js"><link rel="prefetch" href="/blog/assets/js/4.ea3d9a47.js"><link rel="prefetch" href="/blog/assets/js/40.a76c7c06.js"><link rel="prefetch" href="/blog/assets/js/41.da07663a.js"><link rel="prefetch" href="/blog/assets/js/42.2044b114.js"><link rel="prefetch" href="/blog/assets/js/43.d322fefe.js"><link rel="prefetch" href="/blog/assets/js/44.c31ab159.js"><link rel="prefetch" href="/blog/assets/js/45.1b1c5e33.js"><link rel="prefetch" href="/blog/assets/js/46.55da2605.js"><link rel="prefetch" href="/blog/assets/js/47.84d42991.js"><link rel="prefetch" href="/blog/assets/js/48.2b90d848.js"><link rel="prefetch" href="/blog/assets/js/49.c6bd7675.js"><link rel="prefetch" href="/blog/assets/js/5.ac243248.js"><link rel="prefetch" href="/blog/assets/js/50.9b03fa26.js"><link rel="prefetch" href="/blog/assets/js/51.6cb66598.js"><link rel="prefetch" href="/blog/assets/js/52.a6d4aba2.js"><link rel="prefetch" href="/blog/assets/js/53.bf7770d9.js"><link rel="prefetch" href="/blog/assets/js/54.974439b9.js"><link rel="prefetch" href="/blog/assets/js/55.a6de4c58.js"><link rel="prefetch" href="/blog/assets/js/56.8f72c9b9.js"><link rel="prefetch" href="/blog/assets/js/57.b8fb4841.js"><link rel="prefetch" href="/blog/assets/js/58.c4b181af.js"><link rel="prefetch" href="/blog/assets/js/59.dc765459.js"><link rel="prefetch" href="/blog/assets/js/6.7603e440.js"><link rel="prefetch" href="/blog/assets/js/60.544bb001.js"><link rel="prefetch" href="/blog/assets/js/61.f7460384.js"><link rel="prefetch" href="/blog/assets/js/62.c39b1d94.js"><link rel="prefetch" href="/blog/assets/js/63.29a90f9d.js"><link rel="prefetch" href="/blog/assets/js/64.4416976d.js"><link rel="prefetch" href="/blog/assets/js/65.a19c6346.js"><link rel="prefetch" href="/blog/assets/js/66.58f19e15.js"><link rel="prefetch" href="/blog/assets/js/67.1caece64.js"><link rel="prefetch" href="/blog/assets/js/68.f83c105e.js"><link rel="prefetch" href="/blog/assets/js/69.fb5d9480.js"><link rel="prefetch" href="/blog/assets/js/7.b6b0c886.js"><link rel="prefetch" href="/blog/assets/js/70.0fbfeb55.js"><link rel="prefetch" href="/blog/assets/js/71.fd3a62d9.js"><link rel="prefetch" href="/blog/assets/js/72.51a2d05e.js"><link rel="prefetch" href="/blog/assets/js/73.e4151ed8.js"><link rel="prefetch" href="/blog/assets/js/74.aeacf7f8.js"><link rel="prefetch" href="/blog/assets/js/75.ebe8b822.js"><link rel="prefetch" href="/blog/assets/js/76.2ac41b0a.js"><link rel="prefetch" href="/blog/assets/js/77.acffaec5.js"><link rel="prefetch" href="/blog/assets/js/78.24159a1e.js"><link rel="prefetch" href="/blog/assets/js/8.bceba822.js"><link rel="prefetch" href="/blog/assets/js/80.d79e02ef.js"><link rel="prefetch" href="/blog/assets/js/81.b6f06570.js"><link rel="prefetch" href="/blog/assets/js/82.58b30ff0.js"><link rel="prefetch" href="/blog/assets/js/83.74564419.js"><link rel="prefetch" href="/blog/assets/js/84.a4c6c6f2.js"><link rel="prefetch" href="/blog/assets/js/85.54784ed1.js"><link rel="prefetch" href="/blog/assets/js/86.5564edbb.js"><link rel="prefetch" href="/blog/assets/js/87.7af36466.js"><link rel="prefetch" href="/blog/assets/js/88.35615cc7.js"><link rel="prefetch" href="/blog/assets/js/89.f5c755e3.js"><link rel="prefetch" href="/blog/assets/js/9.a325a364.js"><link rel="prefetch" href="/blog/assets/js/90.d1388c12.js"><link rel="prefetch" href="/blog/assets/js/91.cd7ffd67.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.193774b6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Floydçš„åšå®¢</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>ä¸ªäººæŠ€æœ¯åˆ†äº«æ–‡ç« ã€å­¦ä¹ ç¬”è®°ï¼ŒåŒ…æ‹¬å‰ç«¯ã€åç«¯ã€å¤§æ•°æ®ç­‰æŠ€æœ¯é¢†åŸŸ</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
          Â Â 
          <!---->
          2024
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Floydçš„åšå®¢</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      æ”¶è—æ–‡ç« 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å†´ç¾½åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yinguangyao/blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  nullåšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://caibaojian.com/interview-map/frontend/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å‰ç«¯é¢è¯•ä¹‹é“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/CavsZhouyou/Front-End-Interview-Notebook" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å‰ç«¯é¢è¯•å¤ä¹ ç¬”è®°
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.algomooc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å´å¸ˆå…„å­¦ç®—æ³•
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.programmercarl.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  ä»£ç éšæƒ³å½•
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://codetop.cc/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CodeTop
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xiaolincoding.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å°æ—coding
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>66</h3> <h6 data-v-39576ba9>æ–‡ç« </h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>7</h3> <h6 data-v-39576ba9>æ ‡ç­¾</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="undefined"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      æ”¶è—æ–‡ç« 
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/mqyqingfeng/Blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å†´ç¾½åšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/yinguangyao/blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  nullåšå®¢
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://caibaojian.com/interview-map/frontend/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å‰ç«¯é¢è¯•ä¹‹é“
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/CavsZhouyou/Front-End-Interview-Notebook" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å‰ç«¯é¢è¯•å¤ä¹ ç¬”è®°
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.algomooc.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å´å¸ˆå…„å­¦ç®—æ³•
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.programmercarl.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  ä»£ç éšæƒ³å½•
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://codetop.cc/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  CodeTop
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://xiaolincoding.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  å°æ—coding
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/å‰ç«¯æ¡†æ¶æ¦‚å†µ" class="sidebar-heading clickable open"><span>æŠ€æœ¯åšå®¢</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/å‰ç«¯æ¡†æ¶æ¦‚å†µ.html" class="sidebar-link">æŠ€æœ¯åˆ†äº«-å‰ç«¯æ¡†æ¶æ¦‚å†µ</a></li><li><a href="/blog/note/å‰ç«¯å·¥ç¨‹åŒ–æ¦‚è¿°.html" class="sidebar-link">æŠ€æœ¯åˆ†äº«-å‰ç«¯å·¥ç¨‹åŒ–æ¦‚è¿°</a></li><li><a href="/blog/note/ä¸€æ¬¡å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–å®æˆ˜.html" class="sidebar-link">æŠ€æœ¯åˆ†äº«-ä¸€æ¬¡å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–å®æˆ˜</a></li><li><a href="/blog/note/æµ…æOpenTinyæºç .html" class="active sidebar-link">æŠ€æœ¯åˆ†äº«-æµ…æOpenTinyæºç </a></li><li><a href="/blog/note/è·¨ç«¯æŠ€æœ¯è°ƒç ”å’Œå®è·µ.html" class="sidebar-link">æŠ€æœ¯åˆ†äº«-è·¨ç«¯æŠ€æœ¯è°ƒç ”å’Œå®è·µ</a></li><li><a href="/blog/note/åŸºäºNest.jså¼€å‘çš„å¼€æ”¾åœ°çƒå¼•æ“OGEç›¸å…³å®è·µ.html" class="sidebar-link">æŠ€æœ¯åˆ†äº«-åŸºäºNest.jså¼€å‘çš„å¼€æ”¾åœ°çƒå¼•æ“OGEç›¸å…³å®è·µ</a></li><li><a href="/blog/note/nodeåç«¯æœåŠ¡å¼€å‘å®è·µ.html" class="sidebar-link">æŠ€æœ¯åˆ†äº«-nodeåç«¯æœåŠ¡å¼€å‘å®è·µ</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/HTML" class="sidebar-heading clickable"><span>é¢è¯•é¢˜</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/jså­¦ä¹ -ä¸€_new" class="sidebar-heading clickable"><span>JavaScript/TypeScript</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/å­—ç¬¦ä¸²_new" class="sidebar-heading clickable"><span>æ•°æ®ç»“æ„</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/äºŒåˆ†_new" class="sidebar-heading clickable"><span>ç®—æ³•</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/ä¼ è¾“å±‚_new" class="sidebar-heading clickable"><span>è®¡ç®—æœºç½‘ç»œ</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/vue2å­¦ä¹ _new" class="sidebar-heading clickable"><span>å‰ç«¯æ¡†æ¶</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/æ¨¡å—åŒ–ç¼–ç¨‹_new" class="sidebar-heading clickable"><span>å‰ç«¯å·¥ç¨‹åŒ–</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/è·¨åŸŸ_new" class="sidebar-heading clickable"><span>æµè§ˆå™¨åŸç†</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/å‡½æ•°å¼ç¼–ç¨‹_new" class="sidebar-heading clickable"><span>å‰ç«¯æ‚è°ˆ</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/JAVAåŸºç¡€_new" class="sidebar-heading clickable"><span>Java/Spring</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/note/HTMLç¼–ç è§„èŒƒ" class="sidebar-heading clickable"><span>ä»£ç è§„èŒƒ</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
          Â Â 
          <!---->
          2024
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">æµ…æOpenTinyæºç </h1> <div data-v-f875f3fc><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="æµ…æopentinyæºç "><a href="#æµ…æopentinyæºç " class="header-anchor">#</a> æµ…æOpenTinyæºç </h2> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8e70f07fcc5544b6a7f02c29ad2b911e~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1032&amp;h=477&amp;s=105556&amp;e=png&amp;b=fbfbfb" alt="img"></p> <h3 id="_1-ç›®å½•ç»“æ„"><a href="#_1-ç›®å½•ç»“æ„" class="header-anchor">#</a> 1. ç›®å½•ç»“æ„</h3> <p>TinyVueä¸­æ¯ä¸ªç»„ä»¶æŒ‰ç…§ä»¥ä¸‹çš„ç›®å½•ç»“æ„ç»„ç»‡ï¼Œå…¶ä¸­å¸¦æœ‰<code>!</code>å‰ç¼€çš„æ–‡ä»¶è¡¨ç¤ºå¿…é€‰ï¼Œ<code>?</code>å‰ç¼€çš„æ–‡ä»¶è¡¨ç¤ºå¯é€‰</p> <div class="language- extra-class"><pre class="language-text"><code>examples
    docs
    public
    sites
        &lt;mpt&gt; app
            ![component-name]
                !webdoc
                    ![component-name].cn.md // ä¸­æ–‡æ–‡æ¡£
                    ![component-name].cn.md //è‹±æ–‡æ–‡æ¡£
                    ![component-name].js // ç»„ä»¶æ–‡æ¡£é…ç½®
                ![demo].vue //ç¤ºä¾‹æ–‡ä»¶
                ?[demo].spec.ts //ç¤ºä¾‹çš„e2eæµ‹è¯•
        overviewimage //å›¾æ ‡
        resource
        webdoc //å¯¹åº”ä½¿ç”¨æŒ‡å—
        config.js
        !menu.js // ç›®å½•æ–‡ä»¶ï¼Œéœ€è¦åœ¨æ­¤è¿½åŠ ä½ çš„ç»„ä»¶
packages
    renderless
        src
            ![component-name]
                ?[component-name]
                    vue.ts // renderlessé€»è¾‘ï¼ŒåŒ…æ‹¬stateã€apiã€propsç­‰
                    index.ts //æ¡†æ¶æ— å…³çš„é€»è¾‘
                vue.ts
                index.ts
    theme // pcç«¯æ ·å¼
        src
            ?[component-name] // æœ‰äº›ç»„ä»¶ä¸ä¸€å®šéœ€è¦æ ·å¼(ä¾‹å¦‚: config-provider)
                index.less // æ ·å¼
                vars.less // å˜é‡å£°æ˜
                aurora-theme.js // auroraä¸»é¢˜æ ·å¼csså˜é‡
                smb-theme.js // smbä¸»é¢˜æ ·å¼csså˜é‡
    theme-mobile // ç§»åŠ¨ç«¯æ ·å¼
        src
            ?[component-name]
                index.less // æ ·å¼
                vars.less // å˜é‡å£°æ˜
    vue
        src
            ![component-name]
                !__tests__
                    ![component-name].spec.vue // è‡³å°‘è¦æœ‰ä¸€ä¸ªå•å…ƒæµ‹è¯•æ–‡ä»¶
                src
                    pc.vue // pcç«¯æ¨¡æ¿
                    ?mobile.vue // ç§»åŠ¨ç«¯æ¨¡æ¿,å¦‚æœä½ çš„ç»„ä»¶ä¸éœ€è¦ç§»åŠ¨ç«¯é‚£ä¹ˆå¯ä»¥åˆ é™¤
                index.ts // ç»„ä»¶å…¥å£æ–‡ä»¶ï¼ŒåŒ…å«installæ–¹æ³•
                package.json
</code></pre></div><h3 id="_2-ç»„ä»¶åº“çš„å·¥ç¨‹åŒ–"><a href="#_2-ç»„ä»¶åº“çš„å·¥ç¨‹åŒ–" class="header-anchor">#</a> 2. ç»„ä»¶åº“çš„å·¥ç¨‹åŒ–</h3> <p>ä¸€ä¸ªæˆç†Ÿçš„ç»„ä»¶åº“åº”æœ‰ä»¥ä¸‹å·¥ç¨‹åŒ–éœ€æ±‚ï¼š</p> <ul><li>**åŒ…ç®¡ç†ï¼š**æ¯ä¸ªç»„ä»¶éƒ½éœ€è¦å‘å¸ƒåˆ°npmä»“åº“</li> <li><strong>æ–‡ä»¶ç»„ç»‡</strong>ï¼šç»„ä»¶åº“è¦ç»„ç»‡å¤šä¸ªé›¶æ•£çš„æ¨¡å—</li> <li><strong>æ„å»º</strong>ï¼šç”Ÿæˆäº§ç‰©åŒ…æ‹¬cjsã€esmç­‰</li> <li>å¼€å‘ç¯å¢ƒï¼šéœ€è¦å¼€å‘æœåŠ¡å™¨</li> <li>æ–‡æ¡£ã€æµ‹è¯•ã€ä»£ç è§„èŒƒ</li> <li>å‘å¸ƒã€é›†æˆ</li></ul> <p>TinyVueé¡¹ç›®æ˜¯ä½¿ç”¨pnpmç®¡ç†çš„monorepoå·¥ç¨‹ï¼Œç›¸æ¯”äºä¼ ç»Ÿmultirepoå¤šä»“åº“çš„ç®¡ç†æ¨¡å¼ï¼Œmonorepoæ‹¥æœ‰å¦‚ä¸‹ä¼˜åŠ¿ï¼š</p> <ul><li>ä¾èµ–ç®¡ç†ï¼šä¼ ç»Ÿmultirepoæ¨¡å¼æ¯ä¸ªä»“åº“éƒ½è¦å•ç‹¬å®‰è£…ä¾èµ–ï¼Œå­˜åœ¨ä¾èµ–é‡å¤å®‰è£…çš„æƒ…å†µï¼Œå ç”¨ç£ç›˜ç©ºé—´ã€‚monorepoæ¨¡å¼ä¸‹ç›¸åŒç‰ˆæœ¬çš„ä¾èµ–åªéœ€è¦å®‰è£…ä¸€æ¬¡ï¼Œä¸åŒå­æ¨¡å—å¯ä»¥å¤ç”¨ä¾èµ–ã€‚</li> <li>å¼€å‘è¿­ä»£ï¼šå¯¹äºç»„ä»¶åº“é¡¹ç›®è€Œè¨€ï¼Œå¾€å¾€ä¼šå‡ºç°å¤šä¸ªç»„ä»¶äº’ç›¸ä¾èµ–çš„æƒ…å†µã€‚åœ¨ä¼ ç»Ÿæ¨¡å¼ä¸‹ï¼Œå¦‚æœä¸€ä¸ªç»„ä»¶è¿›è¡Œäº†æ”¹åŠ¨ï¼Œè¦åœ¨å¦ä¸€ä¸ªç»„ä»¶ä¸­å¼•å…¥æœ€æ–°çš„ä¾èµ–ï¼Œéœ€è¦å…ˆå°†è¢«ä¾èµ–çš„ç»„ä»¶å‘åŒ…ã€‚è€Œmonorepoæ¨¡å¼ä¸‹å¯ä»¥ç›´æ¥å¼•ç”¨åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚</li></ul> <p>monorepoæœ‰å¤šç§å®ç°æ–¹å¼ï¼Œopentinyé€‰ç”¨pnpmä½œä¸ºåŒ…ç®¡ç†å·¥å…·ï¼Œå…¶ä¼˜åŠ¿åœ¨äºï¼š</p> <ul><li>å®‰è£…é€Ÿåº¦å¿«ï¼šå®‰è£…é€Ÿåº¦æ˜¯npm/yarnçš„2-3å€</li> <li>èŠ‚çœç£ç›˜ç©ºé—´ï¼šé€šè¿‡ç¡¬é“¾æ¥èŠ‚çº¦ç£ç›˜ç©ºé—´</li> <li>ä¾èµ–è®¿é—®ï¼šä¼˜åŒ–äº†node_modulesçš„æ‰å¹³ç»“æ„ï¼Œè§£å†³äº†å¹½çµä¾èµ–é—®é¢˜</li> <li>æ”¯æŒmonorepoï¼šä¸éœ€è¦é›†æˆlernaç­‰å·¥å…·ï¼Œè‡ªèº«é€šè¿‡workspaceæ¨¡å¼æ”¯æŒmonorepo</li></ul> <p>workspaceæ¨¡å¼ç›®å½•ç»“æ„ï¼š</p> <p>ğŸ“¦my-project
â”£ ğŸ“‚a  // aæ¨¡å—
â”ƒ â”— ğŸ“œpackage.json
â”£ ğŸ“‚b
â”ƒ â”— ğŸ“œpackage.json
â”£ ğŸ“‚c
â”ƒ â”£ ğŸ“‚c-1
â”ƒ â”ƒ â”— ğŸ“œpackage.json
â”ƒ â”£ ğŸ“‚c-2
â”ƒ â”ƒ â”— ğŸ“œpackage.json
â”ƒ â”— ğŸ“‚c-3
â”ƒ  â”— ğŸ“œpackage.json
â”£ ğŸ“œpackage.json
â”£ ğŸ“œpnpm-workspace.yaml  // åœ¨pnpm-workspace.yamlä¸­é…ç½®æ¨¡å—</p> <h3 id="_3-è·¨æ¡†æ¶çš„å®ç°"><a href="#_3-è·¨æ¡†æ¶çš„å®ç°" class="header-anchor">#</a> 3. è·¨æ¡†æ¶çš„å®ç°</h3> <p>OpenTinyé€šè¿‡åˆ’åˆ†<code>renderless</code>æ— æ¸²æŸ“å±‚ã€<code>common</code>é€‚é…å±‚ã€<code>template</code>æ¨¡æ¿å±‚å®ç°äº†ä¸šåŠ¡é€»è¾‘ã€æ¡†æ¶å’Œæ¨¡æ¿çš„åˆ†ç¦»ã€‚å…¶ä¸­renderlesså±‚æŠ½ç¦»äº†ä¸æ¡†æ¶å’Œæ¸²æŸ“æ— å…³çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ–¹ä¾¿å¤ç”¨ï¼›commoné€‚é…å±‚æŠ¹å¹³äº†ä¸åŒæ¡†æ¶é—´çš„å·®å¼‚ï¼Œå¹¶å¯¹æ¥renderlesså±‚ï¼›templateæ¨¡æ¿å¯¹æ¥commonå±‚å’Œrenderlesså±‚ç¼–å†™ç»„ä»¶æ¨¡æ¿ã€‚</p> <p>â€‹	ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬è¦åœ¨Reactæ¡†æ¶ä¸­å®ç°commoné€‚é…å±‚ï¼Œå¯ä»¥ä»ä»¥ä¸‹ä¸‰ä¸ªæ–¹é¢æ¥å¤„ç†ï¼š</p> <ul><li><p><strong>æŠ¹å¹³å“åº”å¼æ•°æ®ï¼š</strong> ä¸º Reactæä¾›å“åº”å¼æ•°æ®èƒ½åŠ›ï¼Œä»è€Œå¯ä»¥å¤ç”¨ OpentinyVue å·²ç»å†™å¥½ç»„ä»¶çš„ state æ•°æ®å“åº”èƒ½åŠ›ï¼ŒReact ä½¿ç”¨äº† <strong>ahooks</strong> æä¾›çš„<strong>useReactive</strong>ï¼ˆé€šè¿‡Proxyä»£ç†å¯¹è±¡ï¼‰å»æ¨¡æ‹Ÿäº† Vue çš„å“åº”å¼æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å“åº”å¼æ•°æ®å˜åŒ–çš„æ—¶å€™è°ƒç”¨ React çš„setStateæ–¹æ³•ï¼Œä»è€Œè§¦å‘äº†è§†å›¾çš„æ¸²æŸ“ï¼›</p></li> <li><p><strong>æŠ¹å¹³ Vue çš„ nextTickï¼š</strong> ä½¿ç”¨å¾®ä»»åŠ¡ <strong>queueMicrotask</strong> æ¨¡æ‹Ÿ Vue æ¡†æ¶çš„ nextTickã€‚</p></li> <li><p><strong>æŠ¹å¹³äº‹ä»¶è§¦å‘æœºåˆ¶ï¼š</strong> ä½¿ç”¨<strong>propsä¼ å…¥å›è°ƒå‡½æ•°</strong>æ¨¡æ‹Ÿ Vue æ¡†æ¶çš„äº‹ä»¶è§¦å‘æœºåˆ¶ emitã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useReactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ahooks'</span> <span class="token comment">// ä½¿ç”¨ahooksæä¾›çš„useReactiveæŠ¹å¹³vueæ¡†æ¶çš„å“åº”å¼æ•°æ®</span>

<span class="token comment">// æŠ¹å¹³vueæ¡†æ¶çš„äº‹ä»¶è§¦å‘æœºåˆ¶</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">emit</span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token punctuation">(</span><span class="token parameter">evName<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">[</span>evName<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> props<span class="token punctuation">[</span>evName<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      props<span class="token punctuation">[</span>evName<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token comment">// æ¨¡æ‹Ÿvueæ¡†æ¶çš„nextTickï¼Œç­‰å¾… dom æ›´æ–°åè§¦å‘å›è°ƒ</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useNextTick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">queueMicrotask</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>â€‹    é€šè¿‡åˆ†ææºç ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹OpenTinyè·¨æ¡†æ¶çš„åŸç†æœ‰æ›´æ·±çš„è®¤è¯†ã€‚ä»¥TinyButtonç»„ä»¶ä¸ºä¾‹ï¼Œæˆ‘ä»¬å…ˆæ¥æŸ¥çœ‹renderlessæ— æ¸²æŸ“å±‚çš„å®ç°ã€‚åœ¨<code>renderless/button</code>ç›®å½•ä¸‹åˆ†åˆ«æœ‰<code>index.js</code>ã€<code>vue.js</code>ã€<code>react.js</code>ã€<code>solid.js</code>å››ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­index.jsæ˜¯å’Œ<strong>æ¡†æ¶æ— å…³</strong>çš„<strong>å…¬å…±é€»è¾‘</strong>ï¼Œå…¶ä»–æ–‡ä»¶åˆ™åˆ†åˆ«å¯¹åº”äº†ä¸æ¡†æ¶è€¦åˆçš„é€»è¾‘ï¼ˆçŠ¶æ€ã€äº‹ä»¶ç­‰ï¼‰ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«åˆ†ævue.jsã€react.jså’Œindex.jsçš„æºç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// renderless/button/vue.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> handleClick<span class="token punctuation">,</span> clearTimer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index'</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'state'</span><span class="token punctuation">,</span> <span class="token string">'handleClick'</span><span class="token punctuation">]</span>
<span class="token comment">// å¯¼å‡ºrenderlessæ–¹æ³•ï¼Œæ¥æ”¶æ¨¡æ¿å±‚ä¼ å…¥çš„propså’Œcommonå±‚ä¼ å…¥çš„å·¥å…·ï¼ˆç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€çŠ¶æ€å£°æ˜ç­‰ï¼‰ï¼Œè¿”å›ç»„ä»¶çš„APIæ–¹æ³•</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">renderless</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token parameter">props<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> onBeforeUnmount<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> inject <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> emit<span class="token punctuation">,</span> parent <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> framework <span class="token punctuation">}</span></span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  parent<span class="token punctuation">.</span>tinyForm <span class="token operator">=</span> parent<span class="token punctuation">.</span>tinyForm <span class="token operator">||</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
  <span class="token comment">// å®šä¹‰å“åº”å¼çŠ¶æ€</span>
  <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">timer</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token literal-property property">disabled</span><span class="token operator">:</span> props<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span>
    <span class="token literal-property property">plain</span><span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>plain <span class="token operator">||</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>buttonGroup <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>plain<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">formDisabled</span><span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>tinyForm <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">buttonDisabled</span><span class="token operator">:</span> <span class="token function">computed</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        props<span class="token punctuation">.</span>disabled <span class="token operator">||</span>
        state<span class="token punctuation">.</span>disabled <span class="token operator">||</span>
        <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>buttonGroup <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>disabled <span class="token operator">||</span>
        state<span class="token punctuation">.</span>formDisabled
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// ç›‘å¬æ•°æ®å˜åŒ–</span>
  <span class="token function">watch</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>disabled<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>disabled <span class="token operator">=</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
  <span class="token comment">// ç»„ä»¶æä¾›ç»™æ¨¡æ¿å±‚çš„stateã€method</span>
  <span class="token keyword">const</span> api <span class="token operator">=</span> <span class="token punctuation">{</span>
    state<span class="token punctuation">,</span>
    <span class="token literal-property property">clearTimer</span><span class="token operator">:</span> <span class="token function">clearTimer</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">handleClick</span><span class="token operator">:</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">{</span> emit<span class="token punctuation">,</span> props<span class="token punctuation">,</span> state<span class="token punctuation">,</span> framework <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ç”Ÿå‘½å‘¨æœŸå‡½æ•°</span>
  <span class="token function">onBeforeUnmount</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>clearTimer<span class="token punctuation">)</span>

  <span class="token keyword">return</span> api
<span class="token punctuation">}</span>
</code></pre></div><div class="language-react extra-class"><pre class="language-text"><code>// renderless/button/react.js
import { handleClick, clearTimer } from './index'

export const api = ['state', 'handleClick']

export default function renderless(
  props,
  { useReactive },
  { emit },
  { framework }
) {
  // åˆ©ç”¨ahooksæä¾›çš„useReactiveæ¨¡æ‹Ÿvueçš„å“åº”å¼æ•°æ®
  const state = useReactive({
    timer: null,
    disabled: !!props.disabled,
    plain: props.plain,
    formDisabled: false
  })

  const api = {
    state,
    clearTimer: clearTimer(state),
    handleClick: handleClick({ emit, props, state, framework })
  }

  return api
}
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// renderless/button/index.jsä¸­æ˜¯ä¸æ¡†æ¶æ— å…³çš„å…¬å…±é€»è¾‘</span>

<span class="token comment">// handleClickè®¾è®¡ä¸ºé«˜é˜¶å‡½æ•°ï¼Œç”±commonå±‚æä¾›é€»è¾‘ä¸­éœ€è¦ç”¨åˆ°stateã€watchã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> emit<span class="token punctuation">,</span> props<span class="token punctuation">,</span> state<span class="token punctuation">,</span> framework <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>nativeType <span class="token operator">===</span> <span class="token string">'button'</span> <span class="token operator">&amp;&amp;</span> props<span class="token punctuation">.</span>resetTime <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span>
      state<span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        state<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> props<span class="token punctuation">.</span>resetTime<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>framework<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">æ¡†æ¶ä»£ç å·²è§¦å‘ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>

    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">clearTimer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>timer<span class="token punctuation">)</span>

</code></pre></div><p>â€‹	ç»¼åˆä»¥ä¸Šçš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“OpenTinyè·¨æ¡†æ¶çš„è®¾è®¡æ€è·¯ã€‚é¦–å…ˆå°†ç»„ä»¶çš„é€»è¾‘æå–åˆ°renderlesså±‚ï¼Œrenderlesså±‚åŒ…æ‹¬æ¡†æ¶æ— å…³çš„å…¬å…±é€»è¾‘<code>index.js</code>å’Œæ¡†æ¶ç›¸å…³çš„<code>vue(react).js</code>ã€‚åœ¨vue(react).jsä¸­å®šä¹‰ä¸€ä¸ª<code>renderlesså‡½æ•°</code>ï¼Œå®ƒæ¥æ”¶ç»„ä»¶propsï¼ˆä»æ¨¡æ¿ä¸­è·å–ï¼‰ã€utilsï¼ˆä»commonå±‚è·å–ï¼‰ç­‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªapiå¯¹è±¡ï¼ˆåŒ…æ‹¬stateã€methodsï¼‰ç»™æ¨¡æ¿ä½¿ç”¨ã€‚åœ¨index.jsä¸­ï¼Œç»„ä»¶çš„æ–¹æ³•é‡‡ç”¨<code>é«˜é˜¶å‡½æ•°</code>çš„å½¢å¼å®ç°ï¼Œæ¥æ”¶propsã€stateã€utils(å¦‚emitã€nextTick)ç­‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ™®é€šå‡½æ•°ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä½¿å…¬å…±é€»è¾‘ä¸æ¡†æ¶è§£è€¦ï¼Œç”±ä½¿ç”¨è€…(æ¨¡æ¿å±‚)å†³å®šä½¿ç”¨å“ªä¸ªæ¡†æ¶å®ç°ã€‚æœ€åï¼Œæ¨¡æ¿å±‚ä¸­è°ƒç”¨<code>setup</code>æ–¹æ³•ï¼ˆcommonå±‚æä¾›ï¼‰è·å¾—æ¨¡æ¿éœ€è¦çš„stateã€methodç­‰ã€‚</p> <h3 id="_4-è·¨ç»ˆç«¯çš„å®ç°"><a href="#_4-è·¨ç»ˆç«¯çš„å®ç°" class="header-anchor">#</a> 4. è·¨ç»ˆç«¯çš„å®ç°</h3> <p>â€‹	OpenTinyç»„ä»¶åº“åŒæ—¶æä¾›äº†pcç»„ä»¶å’Œmobileç»„ä»¶ã€‚ä»¥TinyButtonç»„ä»¶ä¸ºä¾‹ï¼Œ<code>button/src</code>ç›®å½•ä¸‹æœ‰<code>index.js</code>ã€<code>mobile.vue</code>ã€<code>pc.vue</code>ã€<code>mobile-first.vue</code>æ–‡ä»¶ã€‚æˆ‘ä»¬é¦–å…ˆæ¥çœ‹å…¥å£æ–‡ä»¶index.js:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> $props<span class="token punctuation">,</span> $prefix<span class="token punctuation">,</span> $setup<span class="token punctuation">,</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@opentiny/vue-common'</span>
<span class="token keyword">import</span> PcTemplate <span class="token keyword">from</span> <span class="token string">'./pc.vue'</span>
<span class="token keyword">import</span> MobileTemplate <span class="token keyword">from</span> <span class="token string">'./mobile.vue'</span>
<span class="token keyword">import</span> WatchTemplate <span class="token keyword">from</span> <span class="token string">'./watch.vue'</span>
<span class="token comment">// æ ¹æ®modeè¿”å›ä¸åŒçš„æ¨¡æ¿</span>
<span class="token keyword">const</span> <span class="token function-variable function">template</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">mode</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">===</span> <span class="token string">'mobile'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> MobileTemplate
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>mode <span class="token operator">===</span> <span class="token string">'watch'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> WatchTemplate
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> PcTemplate
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> $prefix <span class="token operator">+</span> <span class="token string">'Button'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token comment">// æ­¤å¤„çœç•¥</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>$props<span class="token punctuation">,</span>
    <span class="token comment">// æ­¤å¤„çœç•¥</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">$setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> props<span class="token punctuation">,</span> context<span class="token punctuation">,</span> template <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>â€‹	ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºtemplateæ–¹æ³•ä¼šæ ¹æ®å‚æ•°modeè¿”å›ä¸åŒçš„æ¨¡æ¿ç»„ä»¶ï¼Œé‚£ä¹ˆmodeæ˜¯ä»å“ªé‡Œè·å–çš„å‘¢ï¼Œæˆ‘ä»¬ç»§ç»­æŸ¥çœ‹$setupçš„æºç ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">$setup</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> props<span class="token punctuation">,</span> context<span class="token punctuation">,</span> template<span class="token punctuation">,</span> extend <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> view <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> props<span class="token punctuation">.</span>tiny_template <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> props<span class="token punctuation">.</span>tiny_template
	<span class="token comment">// resolveModeä¼šæ ¹æ®ç»„ä»¶propsä¸­çš„tiny_modeå­—æ®µè¿”å›pcã€mobileæˆ–mobile-first</span>
    <span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token function">resolveMode</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token keyword">typeof</span> component <span class="token operator">===</span> <span class="token string">'function'</span>
      <span class="token operator">?</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span>
      <span class="token operator">:</span> component
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">initComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token function">renderComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span> view<span class="token punctuation">,</span> props<span class="token punctuation">,</span> context<span class="token punctuation">,</span> extend <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>â€‹	åœ¨ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¼ å…¥tiny_modeçš„æ–¹å¼æ¥æŒ‡å®šä½¿ç”¨pcç«¯æˆ–ç§»åŠ¨ç«¯çš„ç»„ä»¶ã€‚æˆ–è€…ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå·¥ç¨‹ç±»å‹ã€‚</p> <blockquote><p><code>@opentiny/vue</code> æ”¯æŒå¤šç§æ¨¡å¼ã€‚å¦‚æœæ‚¨çš„å·¥ç¨‹éç§»åŠ¨ç«¯å·¥ç¨‹ï¼Œå¯ä»¥åœ¨vite.config.tsé…ç½®ä»£ç ä¸­çš„<code>process.env</code>ä¸­ï¼Œå£°æ˜<code>TINY_MODE</code>çš„å€¼ï¼Œä»¥ä½¿å·¥ç¨‹åœ¨æ„å»ºæ—¶ï¼Œèƒ½å°†ç§»åŠ¨ç«¯æ¨¡å¼çš„ä»£ç æ‘‡æ‰ï¼Œä¼˜åŒ–æ‰“åŒ…äº§ç‰©çš„ä½“ç§¯ã€‚æ¯”å¦‚ <code>'process.env': { ...process.env,TINY_MODE:'pc' }</code>ã€‚</p></blockquote> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">'@vitejs/plugin-vue'</span>
<span class="token keyword">import</span> importPlugin <span class="token keyword">from</span> <span class="token string">'@opentiny/vue-vite-import'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.jsx'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// æŒ‰éœ€å¼•å…¥</span>
    <span class="token function">importPlugin</span><span class="token punctuation">(</span>
      <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          libraryName<span class="token operator">:</span> <span class="token string">'@opentiny/vue'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          libraryName<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@opentiny/vue-icon</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
          <span class="token function-variable function">customName</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@opentiny/vue-icon/lib/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^icon-</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.js</span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">'pc'</span> <span class="token comment">// æ­¤é…ç½®éå¿…é€‰ï¼ŒæŒ‰éœ€é…ç½®(pc|mobile|mobile-first)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  define<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'process.env'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>process<span class="token punctuation">.</span>env <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-å¤šä¸»é¢˜çš„å®ç°"><a href="#_5-å¤šä¸»é¢˜çš„å®ç°" class="header-anchor">#</a> 5. å¤šä¸»é¢˜çš„å®ç°</h3> <ul><li><strong>è§„èŒƒåŒ– class åç§°</strong></li></ul> <p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç»„ä»¶åº“çš„æ ·å¼ <code>class</code> åç§°éƒ½æœ‰<strong>ä¸¥æ ¼çš„å‘½åè§„èŒƒ</strong>ï¼Œä¾‹å¦‚ <a href="https://link.zhihu.com/?target=https%3A//element-plus.gitee.io/zh-CN/" target="_blank" rel="noopener noreferrer">element-plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„ç±»åéƒ½ä¸º <code>el-xxx</code> çš„æ ¼å¼ï¼›<a href="https://link.zhihu.com/?target=https%3A//vant-ui.github.io/vant/%23/zh-CN/home" target="_blank" rel="noopener noreferrer">Vant<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„ç±»åéƒ½ä¸º <code>vant-xxx</code> çš„æ ¼å¼ã€‚ä¸”è¿™äº› <code>class</code> åç§°éƒ½<strong>ååˆ†æ³¨é‡è¯­ä¹‰åŒ–</strong>ï¼Œå°½é‡èƒ½è¡¨ç°å‡ºå¯¹åº”å…ƒç´ çš„åŠŸç”¨å’Œç‰¹ç‚¹ã€‚</p> <p>äºæ˜¯ï¼Œåªè¦éµå¾ªç»„ä»¶åº“ <code>class</code> çš„å‘½åè§„åˆ™ï¼Œç”¨æˆ·å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è‡ªå®šä¹‰ç»„ä»¶çš„æ ·å¼ï¼Œè€Œæ— éœ€æ‹…å¿ƒä¸é¡¹ç›®ä¸­çš„è‡ªå®šä¹‰æ ·å¼å­˜åœ¨å†²çªé—®é¢˜ã€‚</p> <p>openTinyç»„ä»¶åº“ä¸¥æ ¼éµå¾ªBEM(block-element-modifier)è§„èŒƒ</p> <ul><li><strong>ä½¿ç”¨ CSS å˜é‡</strong></li></ul> <p>ä¸ºäº†æ”¯æŒç”¨æˆ·çµæ´»åœ°è®¾ç½®ç»„ä»¶æ ·å¼ï¼Œç”šè‡³äºå®ç°ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ï¼Œç»„ä»¶åº“çš„æ ·å¼ä¸€èˆ¬ä¸ä¼šè¢«è®¾å®šä¸ºå…·ä½“çš„å€¼ã€‚</p> <p>åœ¨ç»„ä»¶åº“ä¸­ï¼Œè¿™äº› CSS å˜é‡å¾€å¾€è¢«ç§°ä¸º<strong>ä¸»é¢˜å˜é‡</strong>ï¼Œé€šå¸¸éƒ½æŒ‚è½½åœ¨ <code>:root</code> èŠ‚ç‚¹ä¸Šï¼Œåªéœ€è¦æ”¹å˜è¿™äº›å˜é‡å€¼ï¼Œå¯¹åº”ç»„ä»¶çš„æ ·å¼å°±ä¼šä¸€é½å‘ç”Ÿå˜åŒ–ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæ‰¹é‡è®¾ç½®ä¸»é¢˜å˜é‡å°±èƒ½è¾¾æˆâ€œä¸€é”®æ¢è‚¤â€çš„ä¸»é¢˜åˆ‡æ¢æ•ˆæœã€‚</p> <h3 id="_6-webcomponentsç»„ä»¶åº“"><a href="#_6-webcomponentsç»„ä»¶åº“" class="header-anchor">#</a> 6. WebComponentsç»„ä»¶åº“</h3> <p><strong>WebComponents</strong>å¯ä»¥åŸç”Ÿå®ç°ç»„ä»¶ï¼Œå®ƒç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p> <ul><li><strong>Custom elementsï¼ˆè‡ªå®šä¹‰å…ƒç´ ï¼‰ï¼š</strong> å³è‡ªå®šä¹‰ç»„ä»¶ï¼Œåœ¨htmlä¸­é€šè¿‡&lt;custom-component&gt;&lt;/custom-component&gt;å¯ä»¥ç›´æ¥ä½¿ç”¨</li> <li><strong>Shadow DOMï¼ˆå½±å­ DOM ï¼‰</strong>ï¼šä¸€ç»„ JavaScript APIï¼Œç”¨äºå°†å°è£…çš„â€œå½±å­â€ DOM æ ‘é™„åŠ åˆ°å…ƒç´ ï¼ˆä¸ä¸»æ–‡æ¡£ DOM åˆ†å¼€å‘ˆç°ï¼‰å¹¶æ§åˆ¶å…¶å…³è”çš„åŠŸèƒ½ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ‚¨å¯ä»¥ä¿æŒå…ƒç´ çš„åŠŸèƒ½ç§æœ‰ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥è¢«è„šæœ¬åŒ–å’Œæ ·å¼åŒ–ï¼Œè€Œä¸ç”¨æ‹…å¿ƒä¸æ–‡æ¡£çš„å…¶ä»–éƒ¨åˆ†å‘ç”Ÿå†²çªã€‚</li> <li><strong>HTML templatesï¼ˆHTMLæ¨¡æ¿ï¼‰slot</strong>ï¼šå³æ’æ§½</li></ul> <p>é€šè¿‡WebComponentsæŠ€æœ¯ä¹Ÿå¯ä»¥å®ç°è·¨æ¡†æ¶çš„ç»„ä»¶åº“ï¼Œä½†æ˜¯å®ƒå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p> <ul><li><p>**å‘½ä»¤å¼å†™æ³•ï¼Œéæ•°æ®é©±åŠ¨ï¼š**æ›´åŠ åå‘äº UI å±‚é¢ï¼Œä¸ç°åœ¨æ•°æ®é©±åŠ¨ä¸å¤ªç¬¦ï¼Œå’Œç°åœ¨çš„ç»„ä»¶åº“èƒ½åŠ›ä¸Šç›¸æ¯”åŠŸèƒ½ä¼šæ¯”è¾ƒå¼±ï¼Œä½¿ç”¨åœºæ™¯ç›¸å¯¹å•ä¸€ã€‚</p></li> <li><p><strong>å…¼å®¹æ€§å·®</strong>ï¼šè¿™é‡Œ<strong>ä¸ä»…ä»…æŒ‡çš„æ˜¯æµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œè¿˜æœ‰æ¡†æ¶çš„å…¼å®¹æ€§</strong>ï¼Œåœ¨æ¡†æ¶ä¸­ä½¿ç”¨å¶å°”ä¼šå‘ç°æ„å¤–çš„â€œæƒŠå–œâ€ï¼Œå¹¶ä¸”å†™æ³•ä¼šæ¯”è¾ƒå¤æ‚ã€‚</p></li> <li><p><strong>å¼€å‘ä½“éªŒå·®</strong>ï¼šå¦‚æœä¸å€ŸåŠ©æ¡†æ¶å¼€å‘çš„è¯ï¼Œå†™æ³•ä¼šè¿”ç’å½’çœŸï¼ŒHTML CSS JS ä¼šç³…åˆåœ¨ä¸€ä¸ªæ–‡ä»¶ï¼Œhtml CSS éƒ½æ˜¯å­—ç¬¦ä¸²çš„å½¢å¼ ï¼Œæ²¡æœ‰é«˜äº®ï¼Œæ ¼å¼ä¹Ÿéœ€è¦è‡ªå·±è°ƒæ•´ï¼Œå¯¹äºå¼€å‘äººå‘˜æ¥è¯´è¿˜æ˜¯éš¾å—çš„ã€‚</p></li> <li><p><strong>å•å…ƒæµ‹è¯•ä½¿ç”¨ç¹ç</strong>ï¼šå•å…ƒæµ‹è¯•æ˜¯ç»„ä»¶åº“æ ¸å¿ƒçš„ä¸€é¡¹ï¼Œä½†æ˜¯åœ¨ WebComponents ä¸­ä½¿ç”¨å•å…ƒæµ‹è¯•ååˆ†å¤æ‚ã€‚</p></li></ul> <h3 id="_7-æˆ‘çš„è´¡çŒ®"><a href="#_7-æˆ‘çš„è´¡çŒ®" class="header-anchor">#</a> 7. æˆ‘çš„è´¡çŒ®</h3> <h4 id="_7-1-å•å…ƒæµ‹è¯•"><a href="#_7-1-å•å…ƒæµ‹è¯•" class="header-anchor">#</a> 7.1 å•å…ƒæµ‹è¯•</h4> <p>â€‹	openTinyç»„ä»¶åº“åŒ…å«<code>e2eæµ‹è¯•</code>å’Œ<code>å•å…ƒæµ‹è¯•</code>ã€‚e2eæµ‹è¯•å³ç«¯åˆ°ç«¯æµ‹è¯•ï¼Œæ˜¯ä¸€ç§<code>é»‘ç›’æµ‹è¯•</code>æ–¹æ³•ï¼Œæ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå¹¶æµ‹è¯•åŠŸèƒ½æ˜¯å¦è¾¾åˆ°é¢„æœŸçš„ç»“æœã€‚å•å…ƒæµ‹è¯•æ˜¯ä¸€ç§<code>ç™½ç›’æµ‹è¯•</code>æ–¹æ³•ï¼Œå¯¹æ¯ä¸ªå‡½æ•°è¿›è¡Œæµ‹è¯•ï¼Œå¯¹ç»™å®šçš„è¾“å…¥åº”è¯¥äº§ç”Ÿé¢„æœŸçš„è¾“å‡ºã€‚åœ¨å¼€å‘é˜¶æ®µå¼•å…¥e2eæµ‹è¯•å’Œå•å…ƒæµ‹è¯•å¹¶é€šè¿‡github actionæ·»åŠ æäº¤ä»£ç æ—¶çš„è‡ªåŠ¨æµ‹è¯•é’©å­ï¼Œä¿è¯äº†ç»„ä»¶åº“çš„å¥å£®æ€§å’Œå¯ç”¨æ€§ã€‚</p> <p>â€‹	e2eæµ‹è¯•ä½¿ç”¨<strong>Playwright</strong>å·¥å…·ï¼Œä½¿ç”¨æ–‡æ¡£çš„ç»„ä»¶å®ä¾‹ä½œä¸ºe2eæµ‹è¯•ç”¨ä¾‹åœºæ™¯ã€‚</p> <p>â€‹	å•å…ƒæµ‹è¯•ä½¿ç”¨<strong>Vitest</strong>å·¥å…·ã€‚æˆ‘ä¸ºcontainerã€tagã€wizardã€user-headç»„ä»¶æ·»åŠ äº†å•å…ƒæµ‹è¯•ï¼Œæ¶‰åŠåˆ°çš„å•å…ƒæµ‹è¯•å†…å®¹å¤§è‡´åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p> <ul><li>ç•Œé¢å†…å®¹æµ‹è¯•ï¼šå¯¹äºslotï¼Œé€šè¿‡<code>expect(wrapper.find('#mine_header').text()).contain('è‡ªå®šä¹‰æ’æ§½å†…å®¹')</code>æ¥åˆ¤æ–­domä¸­æ˜¯å¦æ’å…¥å†…å®¹ã€‚</li> <li>ç•Œé¢æ ·å¼æµ‹è¯•:ï¼šå¦‚containerç»„ä»¶çš„header-heightå±æ€§å¯ä»¥è®¾ç½®å¤´éƒ¨é«˜åº¦ï¼Œé‚£ä¹ˆæµ‹è¯•è¯­å¥å°±åº”è¯¥ç±»ä¼¼äº<code>expect(wrapper.vm.$el.children[0].style.height).toEqual('80px')</code>ã€‚æˆ–è€…è¯´patternå±æ€§å¯ä»¥è®¾ç½®ç»„ä»¶çš„æ¨¡å¼ï¼Œé‚£ä¹ˆå°±åº”è¯¥å»æŸ¥çœ‹domå…ƒç´ ä¸Šæœ‰æ²¡æœ‰åº”æœ‰çš„ç±»é€‰æ‹©å™¨ã€‚</li> <li>äº‹ä»¶æµ‹è¯•ï¼šå¦‚è¦æµ‹è¯•tagç»„ä»¶çš„clickäº‹ä»¶ï¼Œé‚£ä¹ˆæµ‹è¯•è¯­å¥çš„é€»è¾‘åº”è¯¥æ˜¯è§¦å‘è¯¥äº‹ä»¶å¹¶åˆ¤æ–­äº‹ä»¶çš„å›è°ƒå‡½æ•°æ˜¯å¦è¢«æ‰§è¡Œã€‚<code>await wrapper.find('.tiny-tag').trigger('click')</code> <code>expect(handleClick).toBeCalled()</code></li></ul> <h4 id="_7-2-tsç±»å‹è¡¥å…¨"><a href="#_7-2-tsç±»å‹è¡¥å…¨" class="header-anchor">#</a> 7.2 TSç±»å‹è¡¥å…¨</h4> <p>è¡¥å……äº†tag-groupã€popconfirmã€rateã€user-headç»„ä»¶çš„renderlesså±‚çš„TSç±»å‹</p> <p>å–„ç”¨ç±»å‹å·¥å…·ExtractPropTypesã€ReturnType&lt;typeof func&gt;ã€Pick&lt;Type, 'props' | 'state'&gt;</p> <p><a href="https://github.com/opentiny/tiny-vue/discussions/1334" target="_blank" rel="noopener noreferrer">ğŸ’»æ–°ç»„ä»¶è´¡çŒ®å‚è€ƒï¼šRFC éª¨æ¶å±ç»„ä»¶ Â· opentiny/tiny-vue Â· Discussion #1334 (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_7-2-è¯­æ³•æç¤ºæ’ä»¶"><a href="#_7-2-è¯­æ³•æç¤ºæ’ä»¶" class="header-anchor">#</a> 7.2 è¯­æ³•æç¤ºæ’ä»¶</h4> <p>jsonç»“æ„è®¾è®¡</p> <p>æ£€æµ‹package.jsonä¾èµ–</p> <p>hoveræç¤º</p> <p>å¤–é“¾</p> <p><a href="https://juejin.cn/post/7121817655765368845" target="_blank" rel="noopener noreferrer">ç»„ä»¶åº“è®¾è®¡ | è®©ä½ çš„Reactç»„ä»¶è·å¾—ä»£ç è¡¥å…¨å’Œå±æ€§æç¤ºåŠŸèƒ½ - æ˜é‡‘ (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/7096284896749944840?from=search-suggest" target="_blank" rel="noopener noreferrer">å¼€å‘è€…çš„ç¦åˆ© - NutUI-vscode æ™ºèƒ½æç¤ºæ¥äº† - æ˜é‡‘ (juejin.cn)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li><p>ä»£ç è¡¥å…¨(snippets)</p> <p>åªéœ€åœ¨é¡¹ç›®ä¸­åˆ›å»º<code>snippets.json</code>æ–‡ä»¶ï¼Œåœ¨é‡Œé¢é…ç½®snippetså°±å¯ä»¥</p></li> <li><p>æ™ºèƒ½æç¤º</p> <p>é¼ æ ‡æ‚¬æµ®åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šæ—¶å¼¹æ¡†æ˜¾ç¤ºç»„ä»¶æ–‡æ¡£ï¼ˆpropsã€eventsç­‰ï¼‰ï¼Œå¹¶æ˜¾ç¤ºæŒ‡å‘å®˜æ–¹æ–‡æ¡£çš„é“¾æ¥ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">'vscode'</span>

<span class="token keyword">const</span> compileFiles <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'typescript'</span><span class="token punctuation">,</span> <span class="token string">'javascript'</span><span class="token punctuation">,</span> <span class="token string">'javascriptreact'</span><span class="token punctuation">,</span> <span class="token string">'typescriptreact'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">providerHover</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">document</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>Position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">context</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context<span class="token punctuation">.</span>subscriptions<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    vscode<span class="token punctuation">.</span>languages<span class="token punctuation">.</span><span class="token function">registerHoverProvider</span><span class="token punctuation">(</span>compileFiles<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      provideHover<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">provideHover</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">document</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>TextDocument<span class="token punctuation">,</span> <span class="token literal-property property">position</span><span class="token operator">:</span> vscode<span class="token punctuation">.</span>Position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//ç§»å…¥Concisç»„ä»¶Domï¼Œå‡ºç°ä»‹ç»</span>
  <span class="token keyword">const</span> line <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">lineAt</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> isConcisComponentDom <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> matchComponent <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> componentList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> component <span class="token operator">=</span> componentList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>line<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>component<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      isConcisComponentDom <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      matchComponent <span class="token operator">=</span> component<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isConcisComponentDom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> isCN <span class="token operator">=</span> vscode<span class="token punctuation">.</span>env<span class="token punctuation">.</span>language <span class="token operator">===</span> <span class="token string">'zh-cn'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> componentDocPath <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> matchComponent<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> str <span class="token operator">=</span> matchComponent<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">65</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">90</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        componentDocPath <span class="token operator">+=</span> <span class="token string">'-'</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      componentDocPath <span class="token operator">+=</span> str<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> text <span class="token operator">=</span> isCN
      <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æŸ¥çœ‹</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>matchComponent<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">ç»„ä»¶å®˜æ–¹æ–‡æ¡£\n
Concis -&gt; http://react-view-ui.com:92/#/common/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>componentDocPath<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">View the official documentation of the Button component\n
Concis -&gt; http://react-view-ui.com:92/#/common/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>componentDocPath<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">vscode<span class="token punctuation">.</span>Hover</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>â€‹	é¦–å…ˆï¼Œé€šè¿‡<code>document.lineAt</code>è·å–ä»£ç è¡Œï¼Œåˆ¤æ–­Concisç»„ä»¶å…³é”®è¯æ˜¯å¦å‡ºç°åœ¨ä»£ç å†…å®¹<code>line.text</code>ä¸­ï¼›</p> <p>å¯¹æ»¡è¶³æ¡ä»¶çš„æƒ…å†µï¼Œè·å–ç»„ä»¶çº¿ä¸Šæ–‡æ¡£åœ°å€ï¼Œç¼–è¾‘æç¤ºçš„å†…å®¹ä¿¡æ¯ï¼Œå¯¹åº”ä»£ç æ®µä¸­çš„<code>text</code>ï¼›</p> <p>å°†<code>text</code>é€šè¿‡<code>new vscode.Hover</code>è¿”å›ï¼›</p> <p>â€‹	åœ¨ç»„ä»¶æ ‡ç­¾å†…è¾“å…¥propsæ—¶æ™ºèƒ½æç¤ºã€‚å¯¹äºä½¿ç”¨vue3+Volarçš„ç»„ä»¶åº“æ¥è¯´ï¼Œåªè¦ç»„ä»¶åº“æ˜¯ä½¿ç”¨TSå¼€å‘å¹¶å£°æ˜äº†global.d.tsæ–‡ä»¶ï¼ŒVolarä¼šè‡ªåŠ¨ç”Ÿæˆç»„ä»¶åº“çš„ä»£ç æç¤ºã€‚</p> <ul><li>VSCode + Volar é€šè¿‡ ts ç±»å‹æ–‡ä»¶å®ç°ç›¸å…³æç¤º</li> <li>VSCode + Vetur é€šè¿‡åœ¨ç»„ä»¶åº“æ„å»ºç›®å½•ä¸‹æ·»åŠ  tags.json å’Œ attributes.json å®ç°ç›¸å…³æç¤º</li></ul></li> <li><p>ä½¿ç”¨å·¥å…·è‡ªåŠ¨è§£æç»„ä»¶åº“æ–‡æ¡£</p> <p>ä½¿ç”¨markdown-itè§£æç»„ä»¶åº“ä¸­çš„mdæ–‡æ¡£ï¼Œè‡ªåŠ¨ç”Ÿæˆéœ€è¦æ ¼å¼çš„jsonæ–‡ä»¶ã€‚</p></li></ol></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°: </span> <span class="time">2024/3/5 15:14:11</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/note/ä¸€æ¬¡å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–å®æˆ˜.html" class="prev">
            æŠ€æœ¯åˆ†äº«-ä¸€æ¬¡å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–å®æˆ˜
          </a></span> <span class="next"><a href="/blog/note/è·¨ç«¯æŠ€æœ¯è°ƒç ”å’Œå®è·µ.html">
            æŠ€æœ¯åˆ†äº«-è·¨ç«¯æŠ€æœ¯è°ƒç ”å’Œå®è·µ
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#æµ…æopentinyæºç " class="sidebar-link reco-side-æµ…æopentinyæºç " data-v-cb1513f6>æµ…æOpenTinyæºç </a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_1-ç›®å½•ç»“æ„" class="sidebar-link reco-side-_1-ç›®å½•ç»“æ„" data-v-cb1513f6>1. ç›®å½•ç»“æ„</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_2-ç»„ä»¶åº“çš„å·¥ç¨‹åŒ–" class="sidebar-link reco-side-_2-ç»„ä»¶åº“çš„å·¥ç¨‹åŒ–" data-v-cb1513f6>2. ç»„ä»¶åº“çš„å·¥ç¨‹åŒ–</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_3-è·¨æ¡†æ¶çš„å®ç°" class="sidebar-link reco-side-_3-è·¨æ¡†æ¶çš„å®ç°" data-v-cb1513f6>3. è·¨æ¡†æ¶çš„å®ç°</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_4-è·¨ç»ˆç«¯çš„å®ç°" class="sidebar-link reco-side-_4-è·¨ç»ˆç«¯çš„å®ç°" data-v-cb1513f6>4. è·¨ç»ˆç«¯çš„å®ç°</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_5-å¤šä¸»é¢˜çš„å®ç°" class="sidebar-link reco-side-_5-å¤šä¸»é¢˜çš„å®ç°" data-v-cb1513f6>5. å¤šä¸»é¢˜çš„å®ç°</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_6-webcomponentsç»„ä»¶åº“" class="sidebar-link reco-side-_6-webcomponentsç»„ä»¶åº“" data-v-cb1513f6>6. WebComponentsç»„ä»¶åº“</a></li><li class="level-3" data-v-cb1513f6><a href="/blog/note/%E6%B5%85%E6%9E%90OpenTiny%E6%BA%90%E7%A0%81.html#_7-æˆ‘çš„è´¡çŒ®" class="sidebar-link reco-side-_7-æˆ‘çš„è´¡çŒ®" data-v-cb1513f6>7. æˆ‘çš„è´¡çŒ®</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/blog/assets/js/app.9a166432.js" defer></script><script src="/blog/assets/js/3.38bf7d9d.js" defer></script><script src="/blog/assets/js/1.be70e6c5.js" defer></script><script src="/blog/assets/js/79.6448de96.js" defer></script>
  </body>
</html>
